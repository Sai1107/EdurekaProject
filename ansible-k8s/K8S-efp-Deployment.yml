---
- name: Create pods using deployment 
  hosts: localhost
  tasks: 
  - name: create a deployment
    command: kubectl apply -f ./efp-deploy.yml
    become: yes
    become_user: edureka
  - name: update deployment with new pods if image updated in docker hub
    command: kubectl rollout restart deployment.v1.apps/efp-deployment
    become: yes
    become_user: edureka